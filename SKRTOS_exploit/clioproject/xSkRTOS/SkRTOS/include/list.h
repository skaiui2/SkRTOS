#ifndef LIST_H
#define LIST_H

#include "class.h"
#include "config.h"



/*this is public*/
Class(list_node)
{
    uint32_t timepiece;
    uint32_t value;
    list_node* prev;
    list_node* next;
    
};

Class(thelist)
{
    int count;

    list_node *head;
    list_node *tail;
};



Class(list_operation)
{
    void (*Init)(   thelist *xlist );
    void (*add)(    thelist *xlist, list_node *newnode );
    void (*remove)( thelist *xlist, list_node *rmnode );

};


Class(Readylist)
{
    thelist Readylists[ config_max_priori ];
    list_operation *ope;

};


Class(Delaylist)
{
    thelist xlist;
    list_operation *ope;

};


Class(Suspendlist)
{
    thelist xlist;
    list_operation *ope;

};

Class(Blocklist)
{
    thelist xlist;
    list_operation *ope;

};

#define ListNodeNumber( list_struct ) \
            (uint32_t)list_struct->xlist.count

void oper_Creat(list_operation *ope);

void listInit(thelist *xlist);
void list_add(thelist *xlist, list_node *newnode);
void list_remove(thelist *xlist, list_node *rmnode);




#endif